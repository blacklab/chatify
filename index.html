<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]--> <!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]--> <!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]--> <!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title></title>
  <meta name="description" content="">
  <meta name="author" content="Karsten Jeschkies">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  <!-- Le styles -->
  
  <!-- Spotify CSS files -->
  <link rel="stylesheet" type="text/css" href="sp://resources/css/eve.css">
  <link rel="stylesheet" type="text/css" href="sp://resources/css/api.css">
  <link rel="stylesheet" type="text/css" href="sp://resources/css/player.css">
  <link rel="stylesheet" type="text/css" href="sp://resources/css/list.css">
  
  <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Maven+Pro:400,500' type='text/css'>
  <link rel="stylesheet" href="css/style.css?v=2">
  <link rel="stylesheet" href="css/bootstrap.css">
  <!--<link rel="stylesheet" href="css/font-awesome.min.css"> @font-face is disabled-->
  <style type="text/css">
      body {
        padding-top: 20px;
        padding-bottom: 40px;
      }

      /* Custom container */
      .container-narrow {
        margin: 0 auto;
        max-width: 700px;
      }
      .container-narrow > hr {
        margin: 30px 0;
      }

      /* Main marketing message and sign up button */
      .jumbotron {
        margin: 60px 0;
        text-align: center;
      }
      .jumbotron h1 {
        font-size: 72px;
        line-height: 1;
      }
      .jumbotron .btn {
        font-size: 21px;
        padding: 14px 24px;
      }
      
      .message-text-area {
        -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
        -moz-box-sizing: border-box;    /* Firefox, other Gecko */
        box-sizing: border-box;         /* Opera/IE 8+ */   
        width: 100%; 
        height: 5em;      
      }
  </style>

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  
  <!-- templates -->
  <script type="text/x-handlebars" data-template-name="conversation">
	  <div class="row-fluid">
        <div class="span9">
    	  {{#each message in controller}}
    	    <div class="well well-small">
                <blockquote {{bindAttr class="message.direction::pull-right"}}>
                    <p>{{message.body}}</p>
                    <small>{{message.from}}</small>
                </blockquote>
                {{view App.PlayerListView tracksBinding="message.tracks"}}
    	    </div>
    	  {{/each}}
          <hr>
              
          {{view App.Views.MessageTextArea}}

        </div>
        
        <div class="span3">
            {{outlet roster}}
        </div>
     </div>
  </script>
  
  <script type="text/x-handlebars" data-template-name="roster">
      <ul class="nav nav-list">
        <li class="nav-header">Friends</li>
        {{#each friend in controller}}
            <li>{{#if friend.online}}<i class="icon-fire"></i>{{/if}} <a>{{friend.name}}</a></li>
        {{/each}}
      </ul>
  </script>
  
  <script type="text/x-handlebars" data-template-name="player">
  </script>
  
  <script type="text/x-handlebars" data-template-name="login">
      <div class="span6 offset3">
        {{outlet}}
      </div> 
  </script> 
  
  <script type="text/x-handlebars" data-template-name="login/index">
    <form class="form-horizontal">
            <div class="control-group">
                <label class="control-label">JID</label>
                <div class="controls">
                    {{view Ember.TextField class="input-xlarge" valueBinding="App.user.jid"}}
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">Password</label>
                <div class="controls">
                    {{view Ember.TextField class="input-xlarge" valueBinding="App.user.password" type="password"}}
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="inputEmail">Friend's JID</label>
                <div class="controls">
                    {{view Ember.TextField class="input-xlarge" valueBinding="App.user.friendJid"}}
                </div>
            </div>

            <div class="control-group">
                <div class="controls">
                    <button {{action "login"}} class="btn">Login</button>
                </div>
            </div>
        </form>
  </script>  
  
  <script type="text/x-handlebars" data-template-name="login/connect">
    <div style="text-align:center;">Connecting...</div>
    {{#if error}}
    <div class="alert alert-error">{{error}}</div>
    <div class="pull-right">
        <button {{action "backToLogin"}} class="btn">Back to Login</button>
    </div>
    
    {{/if}}
  </script>
  
</head>
<body>
  <script type="text/x-handlebars" data-template-name="application">
    <div class="container-fluid">
        
      <div class="row-fluid">
          {{outlet}}
      </div>
      
      <hr />

      <div class="footer">
        <p>&copy; Black Magic Laboratories 2013</p>
        <p><small><a href="http://glyphicons.com">Glyphicons Free</a> licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</small></p>
      </div>

    </div> <!-- /container -->
  </script>

  <!-- Le javascript -->
  <!-- The missing protocol means that it will match the current protocol, 
       either http or https. If running locally, we use the local jQuery. -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.8.3.js"><\/script>')</script>
  <script src="js/libs/jquery.ba-tinypubsub.js"></script>
  <script src="js/libs/underscore-min.js"></script>
  <script src="js/libs/strophe-1.0.2.js"></script>
  <script src="js/libs/handlebars-1.0.0-rc.3.js"></script>
  <script src="js/libs/ember-1.0.0-rc.1.js"></script>
  
  <!-- App related -->
  <script src="js/client.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
